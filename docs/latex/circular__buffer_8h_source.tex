\hypertarget{circular__buffer_8h_source}{}\doxysection{circular\+\_\+buffer.\+h}
\label{circular__buffer_8h_source}\index{susci/synchronization/circular\_buffer.h@{susci/synchronization/circular\_buffer.h}}
\mbox{\hyperlink{circular__buffer_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * This file is part of the Susci project, an ultra lightweight general purpose}}
\DoxyCodeLine{3 \textcolor{comment}{ * operating system aimed at devices without an MMU module and with very little}}
\DoxyCodeLine{4 \textcolor{comment}{ * RAM memory.}}
\DoxyCodeLine{5 \textcolor{comment}{ *}}
\DoxyCodeLine{6 \textcolor{comment}{ * It is released under the terms of the MIT license, you can use Susca in your}}
\DoxyCodeLine{7 \textcolor{comment}{ * projects, you just need to mention it in the documentation, manual or other}}
\DoxyCodeLine{8 \textcolor{comment}{ * such place.}}
\DoxyCodeLine{9 \textcolor{comment}{ *}}
\DoxyCodeLine{10 \textcolor{comment}{ * Author: Cixo}}
\DoxyCodeLine{11 \textcolor{comment}{ *}}
\DoxyCodeLine{12 \textcolor{comment}{ *}}
\DoxyCodeLine{13 \textcolor{comment}{ * This file stores declarations and definitions of data structures and}}
\DoxyCodeLine{14 \textcolor{comment}{ * functions responsibles for CircularBuffer in system.}}
\DoxyCodeLine{15 \textcolor{comment}{ */}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{preprocessor}{\#ifndef SYNCHRONIZATION\_CIRCULAR\_BUFFER\_H\_INCLUDED}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#define SYNCHRONIZATION\_CIRCULAR\_BUFFER\_H\_INCLUDED}}
\DoxyCodeLine{19 }
\DoxyCodeLine{23 \textcolor{preprocessor}{\#ifndef CIRCULAR\_BUFFER\_SIZE}}
\DoxyCodeLine{24 \textcolor{preprocessor}{    \#define CIRCULAR\_BUFFER\_SIZE 8}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{26 }
\DoxyCodeLine{30 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{31 }
\DoxyCodeLine{32     \textcolor{comment}{/* Reader position */}}
\DoxyCodeLine{33     uint8\_t \mbox{\hyperlink{structcircular__buffer__t_ad1a843cfb57f828974f4c67f4986df25}{read\_position}};}
\DoxyCodeLine{34 }
\DoxyCodeLine{35     \textcolor{comment}{/* Writer position */}}
\DoxyCodeLine{36     uint8\_t \mbox{\hyperlink{structcircular__buffer__t_a50064939ad9262ec67b07c60dcd2f294}{write\_position}};}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     \textcolor{comment}{/* Alocate memory for circular buffer */}}
\DoxyCodeLine{39     \textcolor{keywordtype}{char} buffer[\mbox{\hyperlink{circular__buffer_8h_a501f5c21d6fe4e60dc984cdaba5e892f}{CIRCULAR\_BUFFER\_SIZE}}];}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \} \mbox{\hyperlink{structcircular__buffer__t}{circular\_buffer\_t}};}
\DoxyCodeLine{42 }
\DoxyCodeLine{46 \textcolor{keyword}{static} \textcolor{keyword}{inline} \mbox{\hyperlink{structcircular__buffer__t}{circular\_buffer\_t}} \mbox{\hyperlink{circular__buffer_8h_a8809e0426b81f19845f1a47804f7cc6c}{create\_circular\_buffer}}(\textcolor{keywordtype}{void}) \{}
\DoxyCodeLine{47     \textcolor{keywordflow}{return} (\mbox{\hyperlink{structcircular__buffer__t}{circular\_buffer\_t}}) \{0x00, 0x00, \{0x00\}\};}
\DoxyCodeLine{48 \}}
\DoxyCodeLine{49 }
\DoxyCodeLine{55 \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{circular__buffer_8h_a343aac0081ff791e4d40a90a321fc77d}{write\_circular\_buffer}}(\mbox{\hyperlink{structcircular__buffer__t}{circular\_buffer\_t}} *buffer, \textcolor{keywordtype}{char} data) \{}
\DoxyCodeLine{56     buffer-\/>\mbox{\hyperlink{structcircular__buffer__t_ac6ec1778d6ebc51e3dd9ca2b8affa6c4}{buffer}}[buffer-\/>\mbox{\hyperlink{structcircular__buffer__t_a50064939ad9262ec67b07c60dcd2f294}{write\_position}}++] = data;}
\DoxyCodeLine{57     buffer-\/>\mbox{\hyperlink{structcircular__buffer__t_a50064939ad9262ec67b07c60dcd2f294}{write\_position}} \%= \mbox{\hyperlink{circular__buffer_8h_a501f5c21d6fe4e60dc984cdaba5e892f}{CIRCULAR\_BUFFER\_SIZE}};}
\DoxyCodeLine{58 \}}
\DoxyCodeLine{59 }
\DoxyCodeLine{64 \textcolor{keyword}{static} \textcolor{keywordtype}{char} \mbox{\hyperlink{circular__buffer_8h_a6f5240ac5ccffc433e75cc4e5f66aba7}{read\_circular\_buffer}}(\mbox{\hyperlink{structcircular__buffer__t}{circular\_buffer\_t}} *buffer) \{}
\DoxyCodeLine{65     \textcolor{keywordtype}{char} data = buffer-\/>\mbox{\hyperlink{structcircular__buffer__t_ac6ec1778d6ebc51e3dd9ca2b8affa6c4}{buffer}}[buffer-\/>\mbox{\hyperlink{structcircular__buffer__t_ad1a843cfb57f828974f4c67f4986df25}{read\_position}}++];}
\DoxyCodeLine{66     }
\DoxyCodeLine{67     buffer-\/>\mbox{\hyperlink{structcircular__buffer__t_ad1a843cfb57f828974f4c67f4986df25}{read\_position}} \%= \mbox{\hyperlink{circular__buffer_8h_a501f5c21d6fe4e60dc984cdaba5e892f}{CIRCULAR\_BUFFER\_SIZE}};}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     \textcolor{keywordflow}{return} data;}
\DoxyCodeLine{70 \}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
