\hypertarget{avr__pinchange_8h_source}{}\doxysection{avr\+\_\+pinchange.\+h}
\label{avr__pinchange_8h_source}\index{susci/drivers/integrated/avr\_pinchange.h@{susci/drivers/integrated/avr\_pinchange.h}}
\mbox{\hyperlink{avr__pinchange_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * This file is part of the Susci project, an ultra lightweight general purpose}}
\DoxyCodeLine{3 \textcolor{comment}{ * operating system aimed at devices without an MMU module and with very little}}
\DoxyCodeLine{4 \textcolor{comment}{ * RAM memory.}}
\DoxyCodeLine{5 \textcolor{comment}{ *}}
\DoxyCodeLine{6 \textcolor{comment}{ * It is released under the terms of the MIT license, you can use Susca in your}}
\DoxyCodeLine{7 \textcolor{comment}{ * projects, you just need to mention it in the documentation, manual or other}}
\DoxyCodeLine{8 \textcolor{comment}{ * such place.}}
\DoxyCodeLine{9 \textcolor{comment}{ *}}
\DoxyCodeLine{10 \textcolor{comment}{ * Author: Cixo}}
\DoxyCodeLine{11 \textcolor{comment}{ *}}
\DoxyCodeLine{12 \textcolor{comment}{ *}}
\DoxyCodeLine{13 \textcolor{comment}{ * This file stores driver for setting pinchange interrupt on specified pins.}}
\DoxyCodeLine{14 \textcolor{comment}{ */}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#ifndef DRIVERS\_INTEGRATED\_PINCHANGE\_H\_INCLUDED}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define DRIVERS\_INTEGRATED\_PINCHANGE\_H\_INCLUDED}}
\DoxyCodeLine{18 }
\DoxyCodeLine{22 \textcolor{preprocessor}{\#define PINCHANGE\_SIGNAL 0x20}}
\DoxyCodeLine{23 }
\DoxyCodeLine{28 \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{avr__pinchange_8h_ae66530d949554f9ab8184f1b14f636e6}{setup\_pinchange\_on\_pin}}(\mbox{\hyperlink{avr__pins_8h_aede467d93ddeb5fdeff6023236aa4ad6}{pin\_t}} pin\_number) \{}
\DoxyCodeLine{29     \textcolor{keyword}{const} \textcolor{keyword}{volatile} uint8\_t *pcmask = \mbox{\hyperlink{attiny261_8h_afb1b4dfb9954b3d22ab27aa822938f29}{LOW\_PCMSK}} + (}
\DoxyCodeLine{30         ((uint8\_t) (pin\_number)) / 8}
\DoxyCodeLine{31     );}
\DoxyCodeLine{32     \textcolor{keyword}{const} uint8\_t mask = \_BV (pin\_number \% 8);}
\DoxyCodeLine{33 }
\DoxyCodeLine{34     *pcmask |= mask;}
\DoxyCodeLine{35 \}}
\DoxyCodeLine{36 }
\DoxyCodeLine{41 \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{avr__pinchange_8h_a637911dec8c1bf7e6c0190d85c9e2452}{enable\_pinchange\_signal}}(\textcolor{keywordtype}{void}) \{}
\DoxyCodeLine{42 \textcolor{preprocessor}{    \#ifdef PCMSK0}}
\DoxyCodeLine{43     PCMSK0 = 0x00;}
\DoxyCodeLine{44     GIMSK |= (1 << PCIE0);}
\DoxyCodeLine{45 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47 \textcolor{preprocessor}{    \#ifdef PCMSK1}}
\DoxyCodeLine{48     PCMSK1 = 0x00;}
\DoxyCodeLine{49     GIMSK |= (1 << PCIE1);}
\DoxyCodeLine{50 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \textcolor{preprocessor}{    \#ifdef PCMSK2}}
\DoxyCodeLine{53     PCMSK2 = 0x00;}
\DoxyCodeLine{54     GIMSK |= (1 << PCIE2);}
\DoxyCodeLine{55 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{56 }
\DoxyCodeLine{57 \textcolor{preprocessor}{    \#ifdef PCMSK3}}
\DoxyCodeLine{58     PCMSK3 = 0x00;}
\DoxyCodeLine{59     GIMSK |= (1 << PCIE3);}
\DoxyCodeLine{60 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{61 }
\DoxyCodeLine{62 \textcolor{preprocessor}{    \#ifdef PCMSK4}}
\DoxyCodeLine{63     PCMSK4 = 0x00;}
\DoxyCodeLine{64     GIMSK |= (1 << PCIE4);}
\DoxyCodeLine{65 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{66 }
\DoxyCodeLine{67 \textcolor{preprocessor}{    \#ifdef PCMSK5}}
\DoxyCodeLine{68     PCMSK5 = 0x00;}
\DoxyCodeLine{69     GIMSK |= (1 << PCIE5);}
\DoxyCodeLine{70 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     sei ();}
\DoxyCodeLine{73 \}}
\DoxyCodeLine{74 }
\DoxyCodeLine{75 \textcolor{comment}{/* For all PCINT\_vect make PINCHANGE\_SIGNAL in system */}}
\DoxyCodeLine{76 \textcolor{preprocessor}{\#ifdef PCINT\_vect}}
\DoxyCodeLine{77 \mbox{\hyperlink{tiny__twi__slave_8h_accf18beea8ea5ee677d25d0770151da8}{ISR}} (PCINT\_vect) \{ makeSignal (\mbox{\hyperlink{avr__pinchange_8h_a92331ded9339490d6fd831809b4dd0da}{PINCHANGE\_SIGNAL}}); \}}
\DoxyCodeLine{78 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{preprocessor}{\#ifdef PCINT0\_vect}}
\DoxyCodeLine{81 \mbox{\hyperlink{tiny__twi__slave_8h_accf18beea8ea5ee677d25d0770151da8}{ISR}} (PCINT0\_vect) \{ makeSignal (\mbox{\hyperlink{avr__pinchange_8h_a92331ded9339490d6fd831809b4dd0da}{PINCHANGE\_SIGNAL}}); \}}
\DoxyCodeLine{82 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84 \textcolor{preprocessor}{\#ifdef PCINT1\_vect}}
\DoxyCodeLine{85 \mbox{\hyperlink{tiny__twi__slave_8h_accf18beea8ea5ee677d25d0770151da8}{ISR}} (PCINT1\_vect) \{ makeSignal (\mbox{\hyperlink{avr__pinchange_8h_a92331ded9339490d6fd831809b4dd0da}{PINCHANGE\_SIGNAL}}); \}}
\DoxyCodeLine{86 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 \textcolor{preprocessor}{\#ifdef PCINT2\_vect}}
\DoxyCodeLine{89 \mbox{\hyperlink{tiny__twi__slave_8h_accf18beea8ea5ee677d25d0770151da8}{ISR}} (PCINT2\_vect) \{ makeSignal (\mbox{\hyperlink{avr__pinchange_8h_a92331ded9339490d6fd831809b4dd0da}{PINCHANGE\_SIGNAL}}); \}}
\DoxyCodeLine{90 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92 \textcolor{preprocessor}{\#ifdef PCINT3\_vect}}
\DoxyCodeLine{93 \mbox{\hyperlink{tiny__twi__slave_8h_accf18beea8ea5ee677d25d0770151da8}{ISR}} (PCINT3\_vect) \{ makeSignal (\mbox{\hyperlink{avr__pinchange_8h_a92331ded9339490d6fd831809b4dd0da}{PINCHANGE\_SIGNAL}}); \}}
\DoxyCodeLine{94 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96 \textcolor{preprocessor}{\#ifdef PCINT4\_vect}}
\DoxyCodeLine{97 \mbox{\hyperlink{tiny__twi__slave_8h_accf18beea8ea5ee677d25d0770151da8}{ISR}} (PCINT4\_vect) \{ makeSignal (\mbox{\hyperlink{avr__pinchange_8h_a92331ded9339490d6fd831809b4dd0da}{PINCHANGE\_SIGNAL}}); \}}
\DoxyCodeLine{98 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{99 }
\DoxyCodeLine{100 \textcolor{preprocessor}{\#ifdef PCINT5\_vect}}
\DoxyCodeLine{101 \mbox{\hyperlink{tiny__twi__slave_8h_accf18beea8ea5ee677d25d0770151da8}{ISR}} (PCINT5\_vect) \{ makeSignal (\mbox{\hyperlink{avr__pinchange_8h_a92331ded9339490d6fd831809b4dd0da}{PINCHANGE\_SIGNAL}}); \}}
\DoxyCodeLine{102 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{103 }
\DoxyCodeLine{104 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
