<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Susci Project: Susci/Drivers/Integrated/TinyTwiSlave.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Susci Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_309e850a4c615f5ddc90dbe3876bd7c8.html">Susci</a></li><li class="navelem"><a class="el" href="dir_b3ea1f1f531f06c74f207bbc69c49f18.html">Drivers</a></li><li class="navelem"><a class="el" href="dir_41a9a38be7c479fd764335ffe210f25c.html">Integrated</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">TinyTwiSlave.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="TinyTwiSlave_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af37a746830fae7be9ee06ecdb0c4a894"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#af37a746830fae7be9ee06ecdb0c4a894">USI_ACK_DATA</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:af37a746830fae7be9ee06ecdb0c4a894"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a24f8e3f96580583e7a51fb90480764ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a24f8e3f96580583e7a51fb90480764ba">usi_twi_set_input</a> (void)</td></tr>
<tr class="separator:a24f8e3f96580583e7a51fb90480764ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6418fbe786d37c875be190bcb98895f5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a6418fbe786d37c875be190bcb98895f5">usi_twi_set_output</a> (void)</td></tr>
<tr class="separator:a6418fbe786d37c875be190bcb98895f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786cb3d9d1346f65a19bf357140f71ba"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a786cb3d9d1346f65a19bf357140f71ba">usi_twi_set_data_output</a> (void)</td></tr>
<tr class="separator:a786cb3d9d1346f65a19bf357140f71ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99de4a4108f7c0ae51bdfeead385a800"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a99de4a4108f7c0ae51bdfeead385a800">usi_twi_set_data_input</a> (void)</td></tr>
<tr class="separator:a99de4a4108f7c0ae51bdfeead385a800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2753474b16920ab5b497d34d722fe58b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a2753474b16920ab5b497d34d722fe58b">usi_twi_set_port</a> (void)</td></tr>
<tr class="separator:a2753474b16920ab5b497d34d722fe58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aa731926e87517a9defea0a5beba373"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a3aa731926e87517a9defea0a5beba373">usi_twi_wait_for_start_stop</a> (void)</td></tr>
<tr class="separator:a3aa731926e87517a9defea0a5beba373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340509d0973429159f048ae0f38220f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a340509d0973429159f048ae0f38220f7">usi_twi_stop_come</a> (void)</td></tr>
<tr class="separator:a340509d0973429159f048ae0f38220f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47772e6f29c984cbf6068a2dbbfae726"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a47772e6f29c984cbf6068a2dbbfae726">usi_twi_setup_control_stop</a> (void)</td></tr>
<tr class="separator:a47772e6f29c984cbf6068a2dbbfae726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386345ca0ee15d80c376e10edbf62abb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a386345ca0ee15d80c376e10edbf62abb">usi_twi_setup_control_start</a> (void)</td></tr>
<tr class="separator:a386345ca0ee15d80c376e10edbf62abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13fc3dc6bbbadf7b856909a49c03ed82"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a13fc3dc6bbbadf7b856909a49c03ed82">usi_twi_setup_counter_start</a> (void)</td></tr>
<tr class="separator:a13fc3dc6bbbadf7b856909a49c03ed82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765eb4d324fb081c750602100e192e2b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a765eb4d324fb081c750602100e192e2b">usi_twi_setup_counter_byte</a> (void)</td></tr>
<tr class="separator:a765eb4d324fb081c750602100e192e2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed25b35f7724b86bc2134b15516ac2ab"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#aed25b35f7724b86bc2134b15516ac2ab">usi_twi_setup_counter_bit</a> (void)</td></tr>
<tr class="separator:aed25b35f7724b86bc2134b15516ac2ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af675c078a3970cf3c0bfd5ff05b0aa60"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#af675c078a3970cf3c0bfd5ff05b0aa60">usi_twi_send_confirmation</a> (void)</td></tr>
<tr class="separator:af675c078a3970cf3c0bfd5ff05b0aa60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bca213db093c25ab0cd299e26efa5f0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a9bca213db093c25ab0cd299e26efa5f0">usi_twi_enable</a> (void)</td></tr>
<tr class="separator:a9bca213db093c25ab0cd299e26efa5f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf18beea8ea5ee677d25d0770151da8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#accf18beea8ea5ee677d25d0770151da8">ISR</a> (<a class="el" href="ATtiny261_8h.html#a4726446a51fd0ec00589e3f7a3ac2db6">USI_START_INTERRUPT</a>)</td></tr>
<tr class="separator:accf18beea8ea5ee677d25d0770151da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6b170d16d5ee4ce8f1e87240ec6ac3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#aac6b170d16d5ee4ce8f1e87240ec6ac3">ISR</a> (<a class="el" href="ATtiny261_8h.html#a7e4537ab654b247f4faabc7b38f056ab">USI_OVERFLOW_INTERRUPT</a>)</td></tr>
<tr class="separator:aac6b170d16d5ee4ce8f1e87240ec6ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9760a5c16b836eeac885e7f5f10f64b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtwi__interface__t.html">twi_interface_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a></td></tr>
<tr class="separator:a9760a5c16b836eeac885e7f5f10f64b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af37a746830fae7be9ee06ecdb0c4a894" name="af37a746830fae7be9ee06ecdb0c4a894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af37a746830fae7be9ee06ecdb0c4a894">&#9670;&nbsp;</a></span>USI_ACK_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USI_ACK_DATA&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aac6b170d16d5ee4ce8f1e87240ec6ac3" name="aac6b170d16d5ee4ce8f1e87240ec6ac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6b170d16d5ee4ce8f1e87240ec6ac3">&#9670;&nbsp;</a></span>ISR() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ATtiny261_8h.html#a7e4537ab654b247f4faabc7b38f056ab">USI_OVERFLOW_INTERRUPT</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >It processes the current state of the bus, then configures the USI to perform the next step, verify the address of the device being polled, send or receive data, or acknowledge. </p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>                             {</div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_typedef" href="TwiSlave_8h.html#ad91b9d60e30c453fc4b5ac09b6f4a123">twi_frame_t</a> buffer = <a class="code hl_define" href="ATtiny261_8h.html#a5bc681228b3a965e8ce099ec77045448">USI_DATA</a>;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a>) {</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea40a067b9f249f5e6d1b1e55b667af2f5">BUS_OFF</a>: ;</div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea3e53ce980daa48690f64a4f134446939">VERYFI_POLLED_ADDRESS</a>: ;</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  217</span><span class="comment">             * If polled address is not this device address, turn off</span></div>
<div class="line"><span class="lineno">  218</span><span class="comment">             * processing data, and come back</span></div>
<div class="line"><span class="lineno">  219</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  220</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="TwiSlave_8h.html#a91eea9af7cd81d4c23faa9164fef9b5d">get_twi_control_address</a>(buffer) != <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#afeaefc8f30845948cfa37c700c7ed730">address</a>) {</div>
<div class="line"><span class="lineno">  221</span>                <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a> = <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea40a067b9f249f5e6d1b1e55b667af2f5">BUS_OFF</a>;</div>
<div class="line"><span class="lineno">  222</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  223</span>            }</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#af675c078a3970cf3c0bfd5ff05b0aa60">usi_twi_send_confirmation</a>();</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  228</span><span class="comment">             * If master want to write data to slave, prepare USI device to</span></div>
<div class="line"><span class="lineno">  229</span><span class="comment">             * to receive data, if master want to receive data, prepare to</span></div>
<div class="line"><span class="lineno">  230</span><span class="comment">             * send data.</span></div>
<div class="line"><span class="lineno">  231</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="TwiSlave_8h.html#ae9ef2f7210aaf914b4bbbd8f2ae5729c">get_twi_transmission_mode</a>(buffer) == <a class="code hl_enumvalue" href="TwiSlave_8h.html#afa067fe80c8f6cbe72f6d46439f1cb81a68a470c9a36fab44404714c9e199bb95">WRITE_MODE</a>) {</div>
<div class="line"><span class="lineno">  233</span>                <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a> = <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea4f30237239d595b6ffe2bcb42a53b76d">RECEIVE_DATA_FROM_MASTER</a>;</div>
<div class="line"><span class="lineno">  234</span>                <a class="code hl_function" href="SharedMemory_8h.html#add8b13852d06f764e58738c763fe8695">reset_shared_memory_pointer</a>(&amp;<a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#a15c5b39a658d476aff17664a80b40eee">shared</a>);</div>
<div class="line"><span class="lineno">  235</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  236</span>                <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a> = <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beead5517cfca81f4033defb5eab40391b9d">SEND_DATA_TO_MASTER</a>;</div>
<div class="line"><span class="lineno">  237</span>            }</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea895e26798f794751ec25362040907eb9">SEND_CONFIRMATION_TO_MASTER</a>: ;</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#af675c078a3970cf3c0bfd5ff05b0aa60">usi_twi_send_confirmation</a>();</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>            <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a> = <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea4f30237239d595b6ffe2bcb42a53b76d">RECEIVE_DATA_FROM_MASTER</a>;</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  248</span><span class="comment">             * If pointer in memory has been set, write received data to</span></div>
<div class="line"><span class="lineno">  249</span><span class="comment">             *  memory and trigger signal, else received data is pointer.</span></div>
<div class="line"><span class="lineno">  250</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  251</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="SharedMemory_8h.html#a2855e388d05bf9428d4760346e0d4321">is_set_shared_memory_pointer</a>(&amp;<a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#a15c5b39a658d476aff17664a80b40eee">shared</a>)){</div>
<div class="line"><span class="lineno">  252</span>                <a class="code hl_function" href="SharedMemory_8h.html#a6a235bd8a8017c2f9cc13030c0dcd5b1">write_shared_memory</a>(&amp;<a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#a15c5b39a658d476aff17664a80b40eee">shared</a>, buffer);</div>
<div class="line"><span class="lineno">  253</span>                <a class="code hl_function" href="Interface_8h.html#a9170dd6b2979b456395c39bbfdbf9a84">make_signal</a>(<a class="code hl_define" href="TwiSlave_8h.html#a2a48d07497b7b3f48d6c58161a7fd496">TWI_SLAVE_RECEIVED_SIGNAL</a>);</div>
<div class="line"><span class="lineno">  254</span>            }<span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  255</span>                <a class="code hl_function" href="SharedMemory_8h.html#a286a0bfa7dda06dff22eeaf8657ca9bb">set_shared_memory_pointer</a>(&amp;<a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#a15c5b39a658d476aff17664a80b40eee">shared</a>, buffer);</div>
<div class="line"><span class="lineno">  256</span>            }</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beeaefe5012c1c1c55aa4b3f3bee4035038c">RECEIVE_CONFIRMATION_FROM_MASTER</a>: ;</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#a24f8e3f96580583e7a51fb90480764ba">usi_twi_set_input</a>();</div>
<div class="line"><span class="lineno">  263</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#a99de4a4108f7c0ae51bdfeead385a800">usi_twi_set_data_input</a>();</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>            <a class="code hl_define" href="ATtiny261_8h.html#a5bc681228b3a965e8ce099ec77045448">USI_DATA</a> = 0x00;</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#aed25b35f7724b86bc2134b15516ac2ab">usi_twi_setup_counter_bit</a>();</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>            <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a> = <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beead5517cfca81f4033defb5eab40391b9d">SEND_DATA_TO_MASTER</a>;</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beead5517cfca81f4033defb5eab40391b9d">SEND_DATA_TO_MASTER</a>: ;</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  276</span><span class="comment">             * Check received confirmation. If master send NACK this is end of</span></div>
<div class="line"><span class="lineno">  277</span><span class="comment">             * transmission, turn off bus and come back.</span></div>
<div class="line"><span class="lineno">  278</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  279</span>            <span class="keywordflow">if</span> (buffer != 0x00) {</div>
<div class="line"><span class="lineno">  280</span>                <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a> = <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea40a067b9f249f5e6d1b1e55b667af2f5">BUS_OFF</a>;</div>
<div class="line"><span class="lineno">  281</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  282</span>            }</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#a6418fbe786d37c875be190bcb98895f5">usi_twi_set_output</a>();</div>
<div class="line"><span class="lineno">  285</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#a786cb3d9d1346f65a19bf357140f71ba">usi_twi_set_data_output</a>();</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>            <a class="code hl_define" href="ATtiny261_8h.html#a5bc681228b3a965e8ce099ec77045448">USI_DATA</a> = <a class="code hl_function" href="SharedMemory_8h.html#a641411dcbf897fcf7532b0eb45031f7a">read_shared_memory</a>(&amp;<a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#a15c5b39a658d476aff17664a80b40eee">shared</a>);</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#a765eb4d324fb081c750602100e192e2b">usi_twi_setup_counter_byte</a>();</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>            <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a> = <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beeaefe5012c1c1c55aa4b3f3bee4035038c">RECEIVE_CONFIRMATION_FROM_MASTER</a>;</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>            <a class="code hl_function" href="Interface_8h.html#a9170dd6b2979b456395c39bbfdbf9a84">make_signal</a>(<a class="code hl_define" href="TwiSlave_8h.html#a31fc5d7cb272f3882a457d8773cd99d2">TWI_SLAVE_SEND_SIGNAL</a>);</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea4f30237239d595b6ffe2bcb42a53b76d">RECEIVE_DATA_FROM_MASTER</a>: ;</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#a24f8e3f96580583e7a51fb90480764ba">usi_twi_set_input</a>();</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>            <a class="code hl_function" href="TinyTwiSlave_8h.html#a765eb4d324fb081c750602100e192e2b">usi_twi_setup_counter_byte</a>();</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>            <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a> = <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea895e26798f794751ec25362040907eb9">SEND_CONFIRMATION_TO_MASTER</a>;</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">default</span>: ;</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  309</span>    }</div>
<div class="line"><span class="lineno">  310</span>}</div>
<div class="ttc" id="aATtiny261_8h_html_a5bc681228b3a965e8ce099ec77045448"><div class="ttname"><a href="ATtiny261_8h.html#a5bc681228b3a965e8ce099ec77045448">USI_DATA</a></div><div class="ttdeci">#define USI_DATA</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:105</div></div>
<div class="ttc" id="aInterface_8h_html_a9170dd6b2979b456395c39bbfdbf9a84"><div class="ttname"><a href="Interface_8h.html#a9170dd6b2979b456395c39bbfdbf9a84">make_signal</a></div><div class="ttdeci">static void make_signal(signal_t signal_id)</div><div class="ttdef"><b>Definition:</b> Interface.h:51</div></div>
<div class="ttc" id="aSharedMemory_8h_html_a2855e388d05bf9428d4760346e0d4321"><div class="ttname"><a href="SharedMemory_8h.html#a2855e388d05bf9428d4760346e0d4321">is_set_shared_memory_pointer</a></div><div class="ttdeci">static bool is_set_shared_memory_pointer(shared_memory_t *shared)</div><div class="ttdef"><b>Definition:</b> SharedMemory.h:79</div></div>
<div class="ttc" id="aSharedMemory_8h_html_a286a0bfa7dda06dff22eeaf8657ca9bb"><div class="ttname"><a href="SharedMemory_8h.html#a286a0bfa7dda06dff22eeaf8657ca9bb">set_shared_memory_pointer</a></div><div class="ttdeci">static void set_shared_memory_pointer(shared_memory_t *shared, uint8_t address)</div><div class="ttdef"><b>Definition:</b> SharedMemory.h:88</div></div>
<div class="ttc" id="aSharedMemory_8h_html_a641411dcbf897fcf7532b0eb45031f7a"><div class="ttname"><a href="SharedMemory_8h.html#a641411dcbf897fcf7532b0eb45031f7a">read_shared_memory</a></div><div class="ttdeci">static char read_shared_memory(shared_memory_t *shared)</div><div class="ttdef"><b>Definition:</b> SharedMemory.h:126</div></div>
<div class="ttc" id="aSharedMemory_8h_html_a6a235bd8a8017c2f9cc13030c0dcd5b1"><div class="ttname"><a href="SharedMemory_8h.html#a6a235bd8a8017c2f9cc13030c0dcd5b1">write_shared_memory</a></div><div class="ttdeci">static void write_shared_memory(shared_memory_t *shared, char data)</div><div class="ttdef"><b>Definition:</b> SharedMemory.h:138</div></div>
<div class="ttc" id="aSharedMemory_8h_html_add8b13852d06f764e58738c763fe8695"><div class="ttname"><a href="SharedMemory_8h.html#add8b13852d06f764e58738c763fe8695">reset_shared_memory_pointer</a></div><div class="ttdeci">static void reset_shared_memory_pointer(shared_memory_t *shared)</div><div class="ttdef"><b>Definition:</b> SharedMemory.h:70</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a24f8e3f96580583e7a51fb90480764ba"><div class="ttname"><a href="TinyTwiSlave_8h.html#a24f8e3f96580583e7a51fb90480764ba">usi_twi_set_input</a></div><div class="ttdeci">static void usi_twi_set_input(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:35</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a6418fbe786d37c875be190bcb98895f5"><div class="ttname"><a href="TinyTwiSlave_8h.html#a6418fbe786d37c875be190bcb98895f5">usi_twi_set_output</a></div><div class="ttdeci">static void usi_twi_set_output(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:43</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a765eb4d324fb081c750602100e192e2b"><div class="ttname"><a href="TinyTwiSlave_8h.html#a765eb4d324fb081c750602100e192e2b">usi_twi_setup_counter_byte</a></div><div class="ttdeci">static void usi_twi_setup_counter_byte(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:141</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a786cb3d9d1346f65a19bf357140f71ba"><div class="ttname"><a href="TinyTwiSlave_8h.html#a786cb3d9d1346f65a19bf357140f71ba">usi_twi_set_data_output</a></div><div class="ttdeci">static void usi_twi_set_data_output(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:52</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a9760a5c16b836eeac885e7f5f10f64b0"><div class="ttname"><a href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a></div><div class="ttdeci">twi_interface_t twi_slave</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:30</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a99de4a4108f7c0ae51bdfeead385a800"><div class="ttname"><a href="TinyTwiSlave_8h.html#a99de4a4108f7c0ae51bdfeead385a800">usi_twi_set_data_input</a></div><div class="ttdeci">static void usi_twi_set_data_input(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:60</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_aed25b35f7724b86bc2134b15516ac2ab"><div class="ttname"><a href="TinyTwiSlave_8h.html#aed25b35f7724b86bc2134b15516ac2ab">usi_twi_setup_counter_bit</a></div><div class="ttdeci">static void usi_twi_setup_counter_bit(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:154</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_af675c078a3970cf3c0bfd5ff05b0aa60"><div class="ttname"><a href="TinyTwiSlave_8h.html#af675c078a3970cf3c0bfd5ff05b0aa60">usi_twi_send_confirmation</a></div><div class="ttdeci">static void usi_twi_send_confirmation(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:166</div></div>
<div class="ttc" id="aTwiSlave_8h_html_a2a48d07497b7b3f48d6c58161a7fd496"><div class="ttname"><a href="TwiSlave_8h.html#a2a48d07497b7b3f48d6c58161a7fd496">TWI_SLAVE_RECEIVED_SIGNAL</a></div><div class="ttdeci">#define TWI_SLAVE_RECEIVED_SIGNAL</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:30</div></div>
<div class="ttc" id="aTwiSlave_8h_html_a31fc5d7cb272f3882a457d8773cd99d2"><div class="ttname"><a href="TwiSlave_8h.html#a31fc5d7cb272f3882a457d8773cd99d2">TWI_SLAVE_SEND_SIGNAL</a></div><div class="ttdeci">#define TWI_SLAVE_SEND_SIGNAL</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:25</div></div>
<div class="ttc" id="aTwiSlave_8h_html_a91eea9af7cd81d4c23faa9164fef9b5d"><div class="ttname"><a href="TwiSlave_8h.html#a91eea9af7cd81d4c23faa9164fef9b5d">get_twi_control_address</a></div><div class="ttdeci">static twi_address_t get_twi_control_address(twi_frame_t frame)</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:124</div></div>
<div class="ttc" id="aTwiSlave_8h_html_aa3bf02997a714adac2761648ef374beea3e53ce980daa48690f64a4f134446939"><div class="ttname"><a href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea3e53ce980daa48690f64a4f134446939">VERYFI_POLLED_ADDRESS</a></div><div class="ttdeci">@ VERYFI_POLLED_ADDRESS</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:64</div></div>
<div class="ttc" id="aTwiSlave_8h_html_aa3bf02997a714adac2761648ef374beea40a067b9f249f5e6d1b1e55b667af2f5"><div class="ttname"><a href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea40a067b9f249f5e6d1b1e55b667af2f5">BUS_OFF</a></div><div class="ttdeci">@ BUS_OFF</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:61</div></div>
<div class="ttc" id="aTwiSlave_8h_html_aa3bf02997a714adac2761648ef374beea4f30237239d595b6ffe2bcb42a53b76d"><div class="ttname"><a href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea4f30237239d595b6ffe2bcb42a53b76d">RECEIVE_DATA_FROM_MASTER</a></div><div class="ttdeci">@ RECEIVE_DATA_FROM_MASTER</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:76</div></div>
<div class="ttc" id="aTwiSlave_8h_html_aa3bf02997a714adac2761648ef374beea895e26798f794751ec25362040907eb9"><div class="ttname"><a href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea895e26798f794751ec25362040907eb9">SEND_CONFIRMATION_TO_MASTER</a></div><div class="ttdeci">@ SEND_CONFIRMATION_TO_MASTER</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:67</div></div>
<div class="ttc" id="aTwiSlave_8h_html_aa3bf02997a714adac2761648ef374beead5517cfca81f4033defb5eab40391b9d"><div class="ttname"><a href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beead5517cfca81f4033defb5eab40391b9d">SEND_DATA_TO_MASTER</a></div><div class="ttdeci">@ SEND_DATA_TO_MASTER</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:73</div></div>
<div class="ttc" id="aTwiSlave_8h_html_aa3bf02997a714adac2761648ef374beeaefe5012c1c1c55aa4b3f3bee4035038c"><div class="ttname"><a href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beeaefe5012c1c1c55aa4b3f3bee4035038c">RECEIVE_CONFIRMATION_FROM_MASTER</a></div><div class="ttdeci">@ RECEIVE_CONFIRMATION_FROM_MASTER</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:70</div></div>
<div class="ttc" id="aTwiSlave_8h_html_ad91b9d60e30c453fc4b5ac09b6f4a123"><div class="ttname"><a href="TwiSlave_8h.html#ad91b9d60e30c453fc4b5ac09b6f4a123">twi_frame_t</a></div><div class="ttdeci">uint8_t twi_frame_t</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:35</div></div>
<div class="ttc" id="aTwiSlave_8h_html_ae9ef2f7210aaf914b4bbbd8f2ae5729c"><div class="ttname"><a href="TwiSlave_8h.html#ae9ef2f7210aaf914b4bbbd8f2ae5729c">get_twi_transmission_mode</a></div><div class="ttdeci">static twi_transmission_mode_t get_twi_transmission_mode(twi_frame_t frame)</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:114</div></div>
<div class="ttc" id="aTwiSlave_8h_html_afa067fe80c8f6cbe72f6d46439f1cb81a68a470c9a36fab44404714c9e199bb95"><div class="ttname"><a href="TwiSlave_8h.html#afa067fe80c8f6cbe72f6d46439f1cb81a68a470c9a36fab44404714c9e199bb95">WRITE_MODE</a></div><div class="ttdeci">@ WRITE_MODE</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:48</div></div>
<div class="ttc" id="astructtwi__interface__t_html_a15c5b39a658d476aff17664a80b40eee"><div class="ttname"><a href="structtwi__interface__t.html#a15c5b39a658d476aff17664a80b40eee">twi_interface_t::shared</a></div><div class="ttdeci">shared_memory_t shared</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:92</div></div>
<div class="ttc" id="astructtwi__interface__t_html_af7a45e24260277ba0082e70078e04de3"><div class="ttname"><a href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">twi_interface_t::state</a></div><div class="ttdeci">volatile twi_state_t state</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:86</div></div>
<div class="ttc" id="astructtwi__interface__t_html_afeaefc8f30845948cfa37c700c7ed730"><div class="ttname"><a href="structtwi__interface__t.html#afeaefc8f30845948cfa37c700c7ed730">twi_interface_t::address</a></div><div class="ttdeci">twi_address_t address</div><div class="ttdef"><b>Definition:</b> TwiSlave.h:89</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="accf18beea8ea5ee677d25d0770151da8" name="accf18beea8ea5ee677d25d0770151da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf18beea8ea5ee677d25d0770151da8">&#9670;&nbsp;</a></span>ISR() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ATtiny261_8h.html#a4726446a51fd0ec00589e3f7a3ac2db6">USI_START_INTERRUPT</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Sets the TWI pins to input and recognizes whether a start or stop condition has occurred, then sets up the USI to receive data. </p>
<div class="fragment"><div class="line"><span class="lineno">  189</span>                          {</div>
<div class="line"><span class="lineno">  190</span>    <a class="code hl_function" href="TinyTwiSlave_8h.html#a24f8e3f96580583e7a51fb90480764ba">usi_twi_set_input</a>();</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">while</span> (<a class="code hl_function" href="TinyTwiSlave_8h.html#a3aa731926e87517a9defea0a5beba373">usi_twi_wait_for_start_stop</a>()) ;</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="TinyTwiSlave_8h.html#a340509d0973429159f048ae0f38220f7">usi_twi_stop_come</a>()) <a class="code hl_function" href="TinyTwiSlave_8h.html#a47772e6f29c984cbf6068a2dbbfae726">usi_twi_setup_control_stop</a>();</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">else</span> <a class="code hl_function" href="TinyTwiSlave_8h.html#a386345ca0ee15d80c376e10edbf62abb">usi_twi_setup_control_start</a>();</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    <a class="code hl_function" href="TinyTwiSlave_8h.html#a13fc3dc6bbbadf7b856909a49c03ed82">usi_twi_setup_counter_start</a>();</div>
<div class="line"><span class="lineno">  198</span>    <a class="code hl_variable" href="TinyTwiSlave_8h.html#a9760a5c16b836eeac885e7f5f10f64b0">twi_slave</a>.<a class="code hl_variable" href="structtwi__interface__t.html#af7a45e24260277ba0082e70078e04de3">state</a> = <a class="code hl_enumvalue" href="TwiSlave_8h.html#aa3bf02997a714adac2761648ef374beea3e53ce980daa48690f64a4f134446939">VERYFI_POLLED_ADDRESS</a>;</div>
<div class="line"><span class="lineno">  199</span>}</div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a13fc3dc6bbbadf7b856909a49c03ed82"><div class="ttname"><a href="TinyTwiSlave_8h.html#a13fc3dc6bbbadf7b856909a49c03ed82">usi_twi_setup_counter_start</a></div><div class="ttdeci">static void usi_twi_setup_counter_start(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:127</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a340509d0973429159f048ae0f38220f7"><div class="ttname"><a href="TinyTwiSlave_8h.html#a340509d0973429159f048ae0f38220f7">usi_twi_stop_come</a></div><div class="ttdeci">static bool usi_twi_stop_come(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:87</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a386345ca0ee15d80c376e10edbf62abb"><div class="ttname"><a href="TinyTwiSlave_8h.html#a386345ca0ee15d80c376e10edbf62abb">usi_twi_setup_control_start</a></div><div class="ttdeci">static void usi_twi_setup_control_start(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:111</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a3aa731926e87517a9defea0a5beba373"><div class="ttname"><a href="TinyTwiSlave_8h.html#a3aa731926e87517a9defea0a5beba373">usi_twi_wait_for_start_stop</a></div><div class="ttdeci">static bool usi_twi_wait_for_start_stop(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:80</div></div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a47772e6f29c984cbf6068a2dbbfae726"><div class="ttname"><a href="TinyTwiSlave_8h.html#a47772e6f29c984cbf6068a2dbbfae726">usi_twi_setup_control_stop</a></div><div class="ttdeci">static void usi_twi_setup_control_stop(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:95</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9bca213db093c25ab0cd299e26efa5f0" name="a9bca213db093c25ab0cd299e26efa5f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bca213db093c25ab0cd299e26efa5f0">&#9670;&nbsp;</a></span>usi_twi_enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Prepares the microcontroller and USI devices to work in the TWI bus. </p>
<div class="fragment"><div class="line"><span class="lineno">  176</span>                                        {</div>
<div class="line"><span class="lineno">  177</span>    <a class="code hl_function" href="TinyTwiSlave_8h.html#a2753474b16920ab5b497d34d722fe58b">usi_twi_set_port</a>();</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_function" href="TinyTwiSlave_8h.html#a386345ca0ee15d80c376e10edbf62abb">usi_twi_setup_control_start</a>();</div>
<div class="line"><span class="lineno">  180</span>    <a class="code hl_function" href="TinyTwiSlave_8h.html#a13fc3dc6bbbadf7b856909a49c03ed82">usi_twi_setup_counter_start</a>();</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    sei();</div>
<div class="line"><span class="lineno">  183</span>}</div>
<div class="ttc" id="aTinyTwiSlave_8h_html_a2753474b16920ab5b497d34d722fe58b"><div class="ttname"><a href="TinyTwiSlave_8h.html#a2753474b16920ab5b497d34d722fe58b">usi_twi_set_port</a></div><div class="ttdeci">static void usi_twi_set_port(void)</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:67</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af675c078a3970cf3c0bfd5ff05b0aa60" name="af675c078a3970cf3c0bfd5ff05b0aa60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af675c078a3970cf3c0bfd5ff05b0aa60">&#9670;&nbsp;</a></span>usi_twi_send_confirmation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_send_confirmation </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Configures the USI to send the ack bit. </p>
<div class="fragment"><div class="line"><span class="lineno">  166</span>                                                   {</div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_define" href="ATtiny261_8h.html#a5bc681228b3a965e8ce099ec77045448">USI_DATA</a> = <a class="code hl_define" href="TinyTwiSlave_8h.html#af37a746830fae7be9ee06ecdb0c4a894">USI_ACK_DATA</a>;</div>
<div class="line"><span class="lineno">  168</span>    </div>
<div class="line"><span class="lineno">  169</span>    <a class="code hl_function" href="TinyTwiSlave_8h.html#a6418fbe786d37c875be190bcb98895f5">usi_twi_set_output</a>();</div>
<div class="line"><span class="lineno">  170</span>    <a class="code hl_function" href="TinyTwiSlave_8h.html#aed25b35f7724b86bc2134b15516ac2ab">usi_twi_setup_counter_bit</a>();</div>
<div class="line"><span class="lineno">  171</span>}</div>
<div class="ttc" id="aTinyTwiSlave_8h_html_af37a746830fae7be9ee06ecdb0c4a894"><div class="ttname"><a href="TinyTwiSlave_8h.html#af37a746830fae7be9ee06ecdb0c4a894">USI_ACK_DATA</a></div><div class="ttdeci">#define USI_ACK_DATA</div><div class="ttdef"><b>Definition:</b> TinyTwiSlave.h:25</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99de4a4108f7c0ae51bdfeead385a800" name="a99de4a4108f7c0ae51bdfeead385a800"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99de4a4108f7c0ae51bdfeead385a800">&#9670;&nbsp;</a></span>usi_twi_set_data_input()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_set_data_input </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function restores PORT to the LOW state so that the PULL-UP resistor does not interfere with the transmission. </p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>                                                {</div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_define" href="ATtiny261_8h.html#ac47af8b0e510ef86f6b69e120ac7f9de">SDA_PORT</a> &amp;= ~SDA_MASK;</div>
<div class="line"><span class="lineno">   62</span>}</div>
<div class="ttc" id="aATtiny261_8h_html_ac47af8b0e510ef86f6b69e120ac7f9de"><div class="ttname"><a href="ATtiny261_8h.html#ac47af8b0e510ef86f6b69e120ac7f9de">SDA_PORT</a></div><div class="ttdeci">#define SDA_PORT</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:110</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a786cb3d9d1346f65a19bf357140f71ba" name="a786cb3d9d1346f65a19bf357140f71ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a786cb3d9d1346f65a19bf357140f71ba">&#9670;&nbsp;</a></span>usi_twi_set_data_output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_set_data_output </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function sets the PORT from LOW to HIGH so you can send any data, not just zero. Since it takes longer than usiTwiSetOutput () and the ACK bit is zero, there is no need to invoke it when ACK is transmitted. </p>
<div class="fragment"><div class="line"><span class="lineno">   52</span>                                                 {</div>
<div class="line"><span class="lineno">   53</span>    <a class="code hl_define" href="ATtiny261_8h.html#ac47af8b0e510ef86f6b69e120ac7f9de">SDA_PORT</a> |= <a class="code hl_define" href="ATtiny261_8h.html#ad392821b5c48626e5363ad708caeb57d">SDA_MASK</a>;</div>
<div class="line"><span class="lineno">   54</span>}</div>
<div class="ttc" id="aATtiny261_8h_html_ad392821b5c48626e5363ad708caeb57d"><div class="ttname"><a href="ATtiny261_8h.html#ad392821b5c48626e5363ad708caeb57d">SDA_MASK</a></div><div class="ttdeci">#define SDA_MASK</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:112</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a24f8e3f96580583e7a51fb90480764ba" name="a24f8e3f96580583e7a51fb90480764ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f8e3f96580583e7a51fb90480764ba">&#9670;&nbsp;</a></span>usi_twi_set_input()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_set_input </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function set SDA pin to input state </p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>                                           {</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_define" href="ATtiny261_8h.html#a16bb6708250d17ee2118d29e4865a653">SDA_DDR</a> &amp;= ~SDA_MASK;</div>
<div class="line"><span class="lineno">   37</span>}</div>
<div class="ttc" id="aATtiny261_8h_html_a16bb6708250d17ee2118d29e4865a653"><div class="ttname"><a href="ATtiny261_8h.html#a16bb6708250d17ee2118d29e4865a653">SDA_DDR</a></div><div class="ttdeci">#define SDA_DDR</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:111</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6418fbe786d37c875be190bcb98895f5" name="a6418fbe786d37c875be190bcb98895f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6418fbe786d37c875be190bcb98895f5">&#9670;&nbsp;</a></span>usi_twi_set_output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_set_output </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function set SDA pin to output state, but not set PORT from LOW to HIGH, therefore you CAN NOT send data other than zero </p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>                                            {</div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_define" href="ATtiny261_8h.html#a16bb6708250d17ee2118d29e4865a653">SDA_DDR</a> |= <a class="code hl_define" href="ATtiny261_8h.html#ad392821b5c48626e5363ad708caeb57d">SDA_MASK</a>;</div>
<div class="line"><span class="lineno">   45</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2753474b16920ab5b497d34d722fe58b" name="a2753474b16920ab5b497d34d722fe58b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2753474b16920ab5b497d34d722fe58b">&#9670;&nbsp;</a></span>usi_twi_set_port()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_set_port </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<ul>
<li>Responsible for configuring microcontroller ports to use twi slave. </li>
</ul>
<div class="fragment"><div class="line"><span class="lineno">   67</span>                                          {</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_define" href="ATtiny261_8h.html#a16bb6708250d17ee2118d29e4865a653">SDA_DDR</a> &amp;= ~SDA_MASK;</div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_define" href="ATtiny261_8h.html#ac47af8b0e510ef86f6b69e120ac7f9de">SDA_PORT</a> &amp;= ~SDA_MASK;</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    <a class="code hl_define" href="ATtiny261_8h.html#a5020a160f5b8f0a1697cfadbe778424b">SCL_DDR</a> &amp;= ~SCL_MASK;</div>
<div class="line"><span class="lineno">   72</span>    <a class="code hl_define" href="ATtiny261_8h.html#ac290a46b6e8e07654c81d01d5e5f288b">SCL_PORT</a> &amp;= ~SCL_MASK;</div>
<div class="line"><span class="lineno">   73</span>}</div>
<div class="ttc" id="aATtiny261_8h_html_a5020a160f5b8f0a1697cfadbe778424b"><div class="ttname"><a href="ATtiny261_8h.html#a5020a160f5b8f0a1697cfadbe778424b">SCL_DDR</a></div><div class="ttdeci">#define SCL_DDR</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:116</div></div>
<div class="ttc" id="aATtiny261_8h_html_ac290a46b6e8e07654c81d01d5e5f288b"><div class="ttname"><a href="ATtiny261_8h.html#ac290a46b6e8e07654c81d01d5e5f288b">SCL_PORT</a></div><div class="ttdeci">#define SCL_PORT</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:115</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a386345ca0ee15d80c376e10edbf62abb" name="a386345ca0ee15d80c376e10edbf62abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a386345ca0ee15d80c376e10edbf62abb">&#9670;&nbsp;</a></span>usi_twi_setup_control_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_setup_control_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function configures the USI control register to the state it should be when a start condition occurs. </p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>                                                     {</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_define" href="ATtiny261_8h.html#a3640e86d214909cd81a4b217a1693565">USI_CONTROL</a> =</div>
<div class="line"><span class="lineno">  113</span>            (1 &lt;&lt; USISIE) |</div>
<div class="line"><span class="lineno">  114</span>            (1 &lt;&lt; USIOIE) |</div>
<div class="line"><span class="lineno">  115</span>            (1 &lt;&lt; USIWM1) |</div>
<div class="line"><span class="lineno">  116</span>            (0 &lt;&lt; USIWM0) |</div>
<div class="line"><span class="lineno">  117</span>            (1 &lt;&lt; USICS1) |</div>
<div class="line"><span class="lineno">  118</span>            (0 &lt;&lt; USICS0) |</div>
<div class="line"><span class="lineno">  119</span>            (0 &lt;&lt; USICLK) |</div>
<div class="line"><span class="lineno">  120</span>            (0 &lt;&lt; USITC);</div>
<div class="line"><span class="lineno">  121</span>}</div>
<div class="ttc" id="aATtiny261_8h_html_a3640e86d214909cd81a4b217a1693565"><div class="ttname"><a href="ATtiny261_8h.html#a3640e86d214909cd81a4b217a1693565">USI_CONTROL</a></div><div class="ttdeci">#define USI_CONTROL</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:106</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a47772e6f29c984cbf6068a2dbbfae726" name="a47772e6f29c984cbf6068a2dbbfae726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47772e6f29c984cbf6068a2dbbfae726">&#9670;&nbsp;</a></span>usi_twi_setup_control_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_setup_control_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function configures the USI control register to the state it should be when a stop condition occurs. </p>
<div class="fragment"><div class="line"><span class="lineno">   95</span>                                                    {</div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_define" href="ATtiny261_8h.html#a3640e86d214909cd81a4b217a1693565">USI_CONTROL</a> =</div>
<div class="line"><span class="lineno">   97</span>            (1 &lt;&lt; USISIE) |</div>
<div class="line"><span class="lineno">   98</span>            (0 &lt;&lt; USIOIE) |</div>
<div class="line"><span class="lineno">   99</span>            (1 &lt;&lt; USIWM1) |</div>
<div class="line"><span class="lineno">  100</span>            (1 &lt;&lt; USIWM0) |</div>
<div class="line"><span class="lineno">  101</span>            (1 &lt;&lt; USICS1) |</div>
<div class="line"><span class="lineno">  102</span>            (0 &lt;&lt; USICS0) |</div>
<div class="line"><span class="lineno">  103</span>            (0 &lt;&lt; USICLK) |</div>
<div class="line"><span class="lineno">  104</span>            (0 &lt;&lt; USITC);</div>
<div class="line"><span class="lineno">  105</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aed25b35f7724b86bc2134b15516ac2ab" name="aed25b35f7724b86bc2134b15516ac2ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed25b35f7724b86bc2134b15516ac2ab">&#9670;&nbsp;</a></span>usi_twi_setup_counter_bit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usi_twi_setup_counter_bit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  154</span>                                                   {</div>
<div class="line"><span class="lineno">  155</span>    <a class="code hl_define" href="ATtiny261_8h.html#a48f257631061b375375c401b07ea13da">USI_STATUS</a> =</div>
<div class="line"><span class="lineno">  156</span>        (0 &lt;&lt; USISIF) |</div>
<div class="line"><span class="lineno">  157</span>        (1 &lt;&lt; USIOIF) |</div>
<div class="line"><span class="lineno">  158</span>        (1 &lt;&lt; USIPF) |</div>
<div class="line"><span class="lineno">  159</span>        (1 &lt;&lt; USIDC) |</div>
<div class="line"><span class="lineno">  160</span>        (0x0E &lt;&lt; USICNT0);</div>
<div class="line"><span class="lineno">  161</span>}</div>
<div class="ttc" id="aATtiny261_8h_html_a48f257631061b375375c401b07ea13da"><div class="ttname"><a href="ATtiny261_8h.html#a48f257631061b375375c401b07ea13da">USI_STATUS</a></div><div class="ttdeci">#define USI_STATUS</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:107</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a765eb4d324fb081c750602100e192e2b" name="a765eb4d324fb081c750602100e192e2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a765eb4d324fb081c750602100e192e2b">&#9670;&nbsp;</a></span>usi_twi_setup_counter_byte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_setup_counter_byte </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function configures the status register and the USI built-in counter so that the interrupt is triggered when a byte (8 bits) is received or sent.</p>
<p >This function configures the status register and the USI built-in counter so that the interrupt is triggered when a bit is received or sent. </p>
<div class="fragment"><div class="line"><span class="lineno">  141</span>                                                    {</div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_define" href="ATtiny261_8h.html#a48f257631061b375375c401b07ea13da">USI_STATUS</a> =</div>
<div class="line"><span class="lineno">  143</span>        (0 &lt;&lt; USISIF) |</div>
<div class="line"><span class="lineno">  144</span>        (1 &lt;&lt; USIOIF) |</div>
<div class="line"><span class="lineno">  145</span>        (1 &lt;&lt; USIPF) |</div>
<div class="line"><span class="lineno">  146</span>        (1 &lt;&lt; USIDC) |</div>
<div class="line"><span class="lineno">  147</span>        (0x00 &lt;&lt; USICNT0);</div>
<div class="line"><span class="lineno">  148</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a13fc3dc6bbbadf7b856909a49c03ed82" name="a13fc3dc6bbbadf7b856909a49c03ed82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13fc3dc6bbbadf7b856909a49c03ed82">&#9670;&nbsp;</a></span>usi_twi_setup_counter_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_setup_counter_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function configures the USI status register to the state it should be when a start condition occurs. </p>
<div class="fragment"><div class="line"><span class="lineno">  127</span>                                                     {</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_define" href="ATtiny261_8h.html#a48f257631061b375375c401b07ea13da">USI_STATUS</a> =</div>
<div class="line"><span class="lineno">  129</span>        (1 &lt;&lt; USISIF) |</div>
<div class="line"><span class="lineno">  130</span>        (1 &lt;&lt; USIOIF) |</div>
<div class="line"><span class="lineno">  131</span>        (1 &lt;&lt; USIPF) |</div>
<div class="line"><span class="lineno">  132</span>        (1 &lt;&lt; USIDC) |</div>
<div class="line"><span class="lineno">  133</span>        (0x00 &lt;&lt; USICNT0);</div>
<div class="line"><span class="lineno">  134</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a340509d0973429159f048ae0f38220f7" name="a340509d0973429159f048ae0f38220f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a340509d0973429159f048ae0f38220f7">&#9670;&nbsp;</a></span>usi_twi_stop_come()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="Types_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> usi_twi_stop_come </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   87</span>                                           {</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordflow">return</span> (<span class="keywordtype">bool</span>) (<a class="code hl_define" href="ATtiny261_8h.html#a526d580d324bce60a3e964066fae77e3">SDA_PIN</a> &amp; <a class="code hl_define" href="ATtiny261_8h.html#ad392821b5c48626e5363ad708caeb57d">SDA_MASK</a>);</div>
<div class="line"><span class="lineno">   89</span>}</div>
<div class="ttc" id="aATtiny261_8h_html_a526d580d324bce60a3e964066fae77e3"><div class="ttname"><a href="ATtiny261_8h.html#a526d580d324bce60a3e964066fae77e3">SDA_PIN</a></div><div class="ttdeci">#define SDA_PIN</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:109</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3aa731926e87517a9defea0a5beba373" name="a3aa731926e87517a9defea0a5beba373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aa731926e87517a9defea0a5beba373">&#9670;&nbsp;</a></span>usi_twi_wait_for_start_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">usi_twi_wait_for_start_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function returns true if there is a current start condition. This is useful when checking whether there is a start condition or a stop condition. </p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>                                                     {</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">return</span> (<span class="keywordtype">bool</span>) (<a class="code hl_define" href="ATtiny261_8h.html#a06c967e78bcedcee909a70764f879433">SCL_PIN</a> &amp; <a class="code hl_define" href="ATtiny261_8h.html#a59d33149e2f302217ebfde0456e27e9f">SCL_MASK</a>) &amp;&amp; !(<a class="code hl_define" href="ATtiny261_8h.html#a526d580d324bce60a3e964066fae77e3">SDA_PIN</a> &amp; <a class="code hl_define" href="ATtiny261_8h.html#ad392821b5c48626e5363ad708caeb57d">SDA_MASK</a>);</div>
<div class="line"><span class="lineno">   82</span>}</div>
<div class="ttc" id="aATtiny261_8h_html_a06c967e78bcedcee909a70764f879433"><div class="ttname"><a href="ATtiny261_8h.html#a06c967e78bcedcee909a70764f879433">SCL_PIN</a></div><div class="ttdeci">#define SCL_PIN</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:114</div></div>
<div class="ttc" id="aATtiny261_8h_html_a59d33149e2f302217ebfde0456e27e9f"><div class="ttname"><a href="ATtiny261_8h.html#a59d33149e2f302217ebfde0456e27e9f">SCL_MASK</a></div><div class="ttdeci">#define SCL_MASK</div><div class="ttdef"><b>Definition:</b> ATtiny261.h:117</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9760a5c16b836eeac885e7f5f10f64b0" name="a9760a5c16b836eeac885e7f5f10f64b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9760a5c16b836eeac885e7f5f10f64b0">&#9670;&nbsp;</a></span>twi_slave</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">twi_slave</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Handler to hardware twi slave device. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
